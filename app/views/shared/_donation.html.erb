<% donation_categories.each do |category| %>

  <% if category.donation_rewards.present? %>
    <% category.donation_rewards.each do |reward| %>
      <h1><%= reward.name %></h1>
      <%= simple_form_for @donation, :url => donations_path, :method => :post do |f| %>
        <%= f.input :donation_category_id, as: :hidden, input_html: {value: category.id} %>
        <%= f.simple_fields_for :donation_items do |donation_item_form| %>
          <%= render "donations/donation_item", f: donation_item_form, reward: reward %>
        <% end %>
        <div id="twzipcode">
            <div data-role="county" data-style="Style Name" data-value="110"></div>
            <div data-role="district" data-style="Style Name" data-value="臺北市"></div>
            <div data-role="zipcode" data-style="Style Name" data-value="信義區"></div>
        </div>
        <%= f.input :name, required: true %>
        <%= f.input :mobile_phone, required: true %>
        <%= f.input :address %>
        <%= f.submit %>
      <% end %>
    <% end %>
  <% else %>
    <h1><%= category.name %></h1>
    <%= simple_form_for @donation, :url => donations_path, :method => :post do |f| %>
      <%= f.input :donation_category_id, as: :hidden, input_html: {value: category.id} %>
      <%= f.input :name, required: true %>
      <%= f.input :total_amount, required: true %>
      <%= f.input :mobile_phone, required: true %>
      <%= f.input :address %>
      <%= f.submit %>
    <% end %>
  <% end %>

<% end %>